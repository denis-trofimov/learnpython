"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var LearnPython=function(){function e(){_classCallCheck(this,e),this.$navbar=$(".nav-bar"),this.$header=$(".main-header"),this.reviewsSlider=null,this.teacherSlider=null,this.aboutSlider=null,this.timetableSlider=null,this.mobiOpeWeek=null,this.init()}return _createClass(e,[{key:"init",value:function(){this.initScrollupbut(),this.fixHeader(),this.initSlider(),this.initOnlineSlider(),this.mobiTimetableInit(),this.initTeacherSlider(),this.initTabNav(),this.navbarToggle(),this.startCounter(),this.initScrollTo(),this.scrollWatcher(),this.animateOnReady(),this.customTabsInit(),this.modalTypeSelector(),this.initSliderReviews(),this.sectionCollapseInit(),this.initAboutSlider()}},{key:"fixHeader",value:function(){this.$header["".concat(20<$(window).scrollTop()?"add":"remove","Class")]("scrolled")}},{key:"initScrollupbut",value:function(){$(function(e){var t=e("#scrollup");e(window).scroll(function(){3368<e(this).scrollTop()?t.show(300):t.hide(300),3368<e(this).scrollTop()&&($("#scrollup").offset().top>$("#contact").offset().top?t.fadeTo(0,1):t.fadeTo(0,.5))})}),$("#scrollup").on("click",function(){return $("body,html").animate({scrollTop:0},800),!1})}},{key:"animateOnReady",value:function(){$(function(){$(".animated-on-ready").addClass("animated")})}},{key:"scrollWatcher",value:function(){var e=this;$(window).on("scroll",function(){e.fixHeader()})}},{key:"initSlider",value:function(){$(".examples-slider").slick({centerMode:!0,dots:!0,initialSlide:1,infinite:!0,adaptiveHeight:!1,slidesToShow:3,prevArrow:'<button class="slick-prev" type="button"></button>',nextArrow:'<button class="slick-next" type="button"></button>',arrows:!0,centerPadding:"0"})}},{key:"initOnlineSlider",value:function(){this.timetableSlider||(this.timetableSlider=$(".online-timetable, .offline-timetable").slick({centerMode:!1,dots:!1,initialSlide:0,infinite:!1,slidesToShow:1,prevArrow:'<button class="time-tb-button slick-prev" type="button"><i class="material-icons"> arrow_back </i></button>',nextArrow:'<button class="time-tb-button slick-next" type="button"><i class="material-icons"> arrow_forward </i></button>',arrows:!0,adaptiveHeight:!0,centerPadding:"0"}))}},{key:"initSliderReviews",value:function(){this.reviewsSlider=$(".reviews-carousel-slider").slick({nextArrow:".carousel-control.next",prevArrow:".carousel-control.prev",dots:!0,adaptiveHeight:!0,appendDots:$(".pagerSelector"),customPaging:function(e,t){return++t+"/"+e.slideCount}})}},{key:"initTabNav",value:function(){$(".tab-nav-container a").on("click",function(){var e=$(this),t=e.closest(".tab-nav-container"),i=t.data("target"),n=t.siblings('[data-nav="'.concat(i,'"]')),s=n.find(".show").index();e.hasClass("next")?s++:s--,2<s||s<0||n.children().eq(s).siblings().removeClass("show").end().addClass("show")})}},{key:"initScrollTo",value:function(){var i=this;$("a.scroll-to").on("click",function(e){e.preventDefault();var t=$(e.target).closest("a");i.toggleCollapsing($(t.attr("href"))),i._smoothScroll(t.attr("href")),i._isSmallScreen()&&i.$navbar.removeClass("open")}),$("button.scroll-to").on("click",function(e){var t=$(e.target).closest("button");i._smoothScroll(t.data("target")),i.toggleCollapsing($(t.data("target")))})}},{key:"_smoothScroll",value:function(e){var t;t=this._isSmallScreen()?$(e).offset().top-50:$(e).offset().top,$("html, body").stop().animate({scrollTop:t},500,"swing")}},{key:"startCounter",value:function(){var i=$(".counter-container"),n=$(".time-target"),s=new Date(i.data("countDown")).getTime(),o=setInterval(function(){var e=s-(new Date).getTime(),t={days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)};t.days<10?t.days="0"+t.days:t.days=""+t.days,t.hours<10?t.hours="0"+t.hours:t.hours=""+t.hours,t.minutes<10?t.minutes="0"+t.minutes:t.minutes=""+t.minutes,t.seconds<10?t.seconds="0"+t.seconds:t.seconds=""+t.seconds,i.html('\n<div class="row justify-content-center"><b class="d-block">'.concat(t.days,'</b><span class="tm-name">дней</span></div><span class="delimeter">:</span>\n<div class="row justify-content-center"><b class="d-block">').concat(t.hours,'</b><span class="tm-name">часов</span></div><span class="delimeter">:</span>\n<div class="row justify-content-center"><b class="d-block">').concat(t.minutes,'</b><span class="tm-name">минут</span></div><span class="delimeter">:</span>\n<div class="row justify-content-center"><b class="d-block">').concat(t.seconds,'</b><span class="tm-name">секунд</span></div>\n        ')),n.text("Закрытие регистрации через ".concat(t.days," дней ").concat(t.hours," часов")),e<0&&(clearInterval(o),n.text("Регистрация завершена"),i.html("Регистрация завершена"))},1e3)}},{key:"modalTypeSelector",value:function(){$(".type-selector").on("click",function(e){var t=$(e.target).closest(".type-selector").find(".cost").text();$(".total-selected").text(t)})}},{key:"navbarToggle",value:function(){var e=this;$(".navbar-toggle").on("click",function(){e.$navbar.toggleClass("open")})}},{key:"_isSmallScreen",value:function(){return window.innerWidth<992}},{key:"sectionCollapseInit",value:function(){var i=this;$(".m-section-header").on("click",function(e){var t=$(e.target).closest(".m-section-header").closest("section");i.toggleCollapsing(t),i._smoothScroll("#"+t.attr("id"))}),this._isSmallScreen()&&this._destroyTimetableSlider(),$(window).on("resize",function(e){i._isSmallScreen()?(i._destroyTimetableSlider(),i.mobiTimetableInit(),i.initTeacherSlider(),i.initAboutSlider()):(i._destroyWeekEvent(),i.initOnlineSlider(),i._destroyTeacherSlider(),i._destroyAboutSlider())})}},{key:"toggleCollapsing",value:function(e){e.toggleClass("show").siblings("section").removeClass("show")}},{key:"initTeacherSlider",value:function(){!this.teacherSlider&&this._isSmallScreen()&&(this.teacherSlider=$(".mentor-list").slick({infinite:!1,arrows:!1,dots:!0,adaptiveHeight:!0}))}},{key:"initAboutSlider",value:function(){!this.aboutSlider&&this._isSmallScreen()&&(this.aboutSlider=$(".about-grid-block").slick({infinite:!0,arrows:!1,dots:!0,initialSlide:3,adaptiveHeight:!0}))}},{key:"_destroyTeacherSlider",value:function(){this.teacherSlider&&(this.teacherSlider.slick("unslick"),this.teacherSlider=null)}},{key:"_destroyAboutSlider",value:function(){this.aboutSlider&&(this.aboutSlider.slick("unslick"),this.aboutSlider=null)}},{key:"_destroyTimetableSlider",value:function(){this.timetableSlider&&(this.timetableSlider.slick("unslick"),this.timetableSlider=null)}},{key:"_addEventsWeek",value:function(e){var i=$(e.currentTarget).children("i"),n=$(e.currentTarget).next(".week-content");n.toggleClass("show-week"),$(".week-title-onl > i, .week-title-offln > i").each(function(e,t){i[0]!=t&&($(this)[0].innerText="keyboard_arrow_down")}),$(".week-content.show-week").each(function(e,t){n[0]!=t&&$(this).removeClass("show-week")}),"keyboard_arrow_up"==i[0].innerText?i[0].innerText="keyboard_arrow_down":i[0].innerText="keyboard_arrow_up"}},{key:"mobiTimetableInit",value:function(){this._isSmallScreen()&&!this.mobiOpeWeek&&(this.mobiOpeWeek=$("div.week-title-onl, div.week-title-offln").on("click",this._addEventsWeek))}},{key:"_destroyWeekEvent",value:function(){!this._isSmallScreen()&&this.mobiOpeWeek&&($("div.week-title-onl, div.week-title-offln").off("click",this._addEventsWeek),this.mobiOpeWeek=null)}},{key:"customTabsInit",value:function(){$(".custom-tab").on("click",function(e){var t=$(e.target).closest(".custom-tab"),i=t.data("target");t.addClass("active").siblings().removeClass("active"),$(".tab-holder").removeClass("bg-yellow bg-blue").addClass(".online-tab"===i?"bg-yellow":"bg-blue"),$(".online-tab, .offline-tab").removeClass("active"),$(i).addClass("active")})}}]),e}(),learnPython=new LearnPython;